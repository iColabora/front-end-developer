function drawChart(a){function t(){var t=new google.visualization.DataTable;t.addColumn("string","Solicitante"),t.addColumn("number","Pedidos");var i=[];$.each(a,function(a,t){var e=[t.nome,t.total];i.push(e)}),t.addRows(i);var e={title:"Quantidade de Pedidos por Solicitante"},o=new google.visualization.BarChart(document.getElementById("chart_div"));o.draw(t,e)}google.charts.setOnLoadCallback(t)}var query="SELECT s.id AS id, s.nome AS nome, COUNT(p.id) AS total FROM pedidos p JOIN solicitantes s ON s.id = p.id_solicitante GROUP BY id";mysqlQuery(query,function(a){var t=JSON.parse(a);drawChart(t)});