function atualiza_select_solicitantes(){$.ajax({type:"post",dataType:"json",url:"php/listar_solicitantes.php",success:function(a){for(var b="",c=0;c<a.length;c++)b+="<option value="+a[c].id+">"+a[c].nome+"</option>";$("#select_solicitantes").html(b)}})}function atualiza_select_pedidos(){$.ajax({type:"post",dataType:"json",url:"php/listar_pedidos.php",success:function(a){for(var b="",c=0;c<a.length;c++)b+="<option value="+a[c].id+">"+a[c].id+"</option>";$("#select_pedidos").html(b)}})}function atualiza_select_insumos_pedidos(){$.ajax({type:"post",dataType:"json",url:"php/listar_pedidos.php",success:function(a){for(var b="",c=0;c<a.length;c++)b+="<option value="+a[c].id+">"+a[c].id+"</option>";$("#select_insumos_pedidos").html(b)}})}function atualiza_select_insumos_materiais(){$.ajax({type:"post",dataType:"json",url:"php/listar_materiais.php",success:function(a){for(var b="",c=0;c<a.length;c++)b+="<option value="+a[c].id+">"+a[c].nome+"</option>";$("#select_insumos_material").html(b)}})}function atualiza_dados_de_entrega(a){$.ajax({type:"post",dataType:"json",url:"php/listar_solicitantes.php",success:function(b){for(var c=0;c<b.length;c++)a==b[c].id&&($("#cep_p").val(b[c].cep),$("#rua_p").val(b[c].rua),$("#numero_p").val(b[c].numero),$("#bairro_p").val(b[c].bairro),$("#cidade_p").val(b[c].cidade),$("#estado_p").val(b[c].estado),$("#pais_p").val(b[c].pais))}})}function atualiza_solicitantes(){$.ajax({type:"post",dataType:"json",url:"php/listar_solicitantes.php",success:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c].id,a[c].nome,a[c].telefone,a[c].cpf,a[c].cep,a[c].rua,a[c].numero,a[c].bairro,a[c].cidade,a[c].estado,a[c].pais];$tabela_solicitantes.fnClearTable(),$tabela_solicitantes.fnAddData(b),setTimeout(function(){$("#load").hide(),div_solicitantes.classList.remove("esconder_div"),modal_solicitantes.classList.remove("esconder_div")},600)}})}function atualiza_pedidos(){$.ajax({type:"post",dataType:"json",url:"php/listar_pedidos.php",error:function(){$("#load").hide(),modal_pedidos.classList.remove("esconder_div")},success:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c].id,a[c].id_solicitante,a[c].data_de_compra,a[c].cep,a[c].rua,a[c].numero,a[c].bairro,a[c].cidade,a[c].estado,a[c].pais];$tabela_pedidos.fnClearTable(),$tabela_pedidos.fnAddData(b),setTimeout(function(){$("#load").hide(),div_pedidos.classList.remove("esconder_div"),modal_pedidos.classList.remove("esconder_div")},600)}})}function atualiza_materiais(){$.ajax({type:"post",dataType:"json",url:"php/listar_materiais.php",error:function(){$("#load").hide(),modal_materiais.classList.remove("esconder_div")},success:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c].id,a[c].id_pedido,a[c].nome,a[c].preco+",00 R$",a[c].quantidade];$tabela_materiais.fnClearTable(),$tabela_materiais.fnAddData(b),setTimeout(function(){$("#load").hide(),div_materiais.classList.remove("esconder_div"),modal_materiais.classList.remove("esconder_div")},600)}})}function atualiza_insumos(){$.ajax({type:"post",dataType:"json",url:"php/listar_insumos.php",error:function(){$("#load").hide(),modal_insumos.classList.remove("esconder_div")},success:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c].id,a[c].id_pedido,a[c].id_material,a[c].descricao,a[c].preco+",00 R$",a[c].quantidade];$tabela_insumos.fnClearTable(),$tabela_insumos.fnAddData(b),setTimeout(function(){$("#load").hide(),div_insumos.classList.remove("esconder_div"),modal_insumos.classList.remove("esconder_div")},600)}})}var div_materiais=document.getElementById("div_materiais"),div_insumos=document.getElementById("div_insumos"),div_pedidos=document.getElementById("div_pedidos"),div_solicitantes=document.getElementById("div_solicitantes"),div_grafico_1=document.getElementById("div_grafico_1"),div_grafico_2=document.getElementById("div_grafico_2");$("#load").hide();var modal_solicitantes=document.getElementById("modal_solicitantes"),modal_pedidos=document.getElementById("modal_pedidos"),modal_materiais=document.getElementById("modal_materiais"),modal_insumos=document.getElementById("modal_insumos"),colunas_insumos=[{sTitle:"Id"},{sTitle:"Id Pedido"},{sTitle:"Id Material"},{sTitle:"Descrião"},{sTitle:"Preço"},{sTitle:"Quantidade"}],dados_insumos={aaData:[],aoColumns:colunas_insumos};$tabela_insumos=$("#tabela_insumos").dataTable(dados_insumos);var colunas_solicitantes=[{sTitle:"Id"},{sTitle:"Nome"},{sTitle:"Telefone"},{sTitle:"CPF"},{sTitle:"Cep"},{sTitle:"Rua"},{sTitle:"Número"},{sTitle:"Bairro"},{sTitle:"Cidade"},{sTitle:"Estado"},{sTitle:"País"}],dados_solicitantes={aaData:[],aoColumns:colunas_solicitantes};$tabela_solicitantes=$("#tabela_solicitantes").dataTable(dados_solicitantes);var colunas_materiais=[{sTitle:"Id"},{sTitle:"Id Pedido"},{sTitle:"Nome"},{sTitle:"Preço"},{sTitle:"Quantidade"}],dados_materiais={aaData:[],aoColumns:colunas_materiais};$tabela_materiais=$("#tabela_materiais").dataTable(dados_materiais);var colunas_pedidos=[{sTitle:"Id"},{sTitle:"Id Solicitante"},{sTitle:"Data de Compra"},{sTitle:"Cep"},{sTitle:"Rua"},{sTitle:"Numero"},{sTitle:"Bairro"},{sTitle:"Cidade"},{sTitle:"Estado"},{sTitle:"Pais"}],dados_pedidos={aaData:[],aoColumns:colunas_pedidos};$tabela_pedidos=$("#tabela_pedidos").dataTable(dados_pedidos),$(function(){$("#btn_solicitantes").click(function(){modal_pedidos.classList.add("esconder_div"),modal_materiais.classList.add("esconder_div"),modal_insumos.classList.add("esconder_div"),div_materiais.classList.add("esconder_div"),div_insumos.classList.add("esconder_div"),div_pedidos.classList.add("esconder_div"),div_grafico_1.classList.add("esconder_div"),div_grafico_2.classList.add("esconder_div"),$("#load").show(),atualiza_solicitantes()}),$("#btn_pedidos").click(function(){modal_solicitantes.classList.add("esconder_div"),modal_materiais.classList.add("esconder_div"),modal_insumos.classList.add("esconder_div"),div_materiais.classList.add("esconder_div"),div_insumos.classList.add("esconder_div"),div_solicitantes.classList.add("esconder_div"),div_grafico_1.classList.add("esconder_div"),div_grafico_2.classList.add("esconder_div"),$("#load").show(),atualiza_pedidos()}),$("#btn_materiais").click(function(){modal_pedidos.classList.add("esconder_div"),modal_solicitantes.classList.add("esconder_div"),modal_insumos.classList.add("esconder_div"),div_pedidos.classList.add("esconder_div"),div_insumos.classList.add("esconder_div"),div_solicitantes.classList.add("esconder_div"),div_grafico_1.classList.add("esconder_div"),div_grafico_2.classList.add("esconder_div"),$("#load").show(),atualiza_materiais()}),$("#btn_insumos").click(function(){modal_pedidos.classList.add("esconder_div"),modal_materiais.classList.add("esconder_div"),modal_solicitantes.classList.add("esconder_div"),div_materiais.classList.add("esconder_div"),div_pedidos.classList.add("esconder_div"),div_solicitantes.classList.add("esconder_div"),div_grafico_1.classList.add("esconder_div"),div_grafico_2.classList.add("esconder_div"),$("#load").show(),atualiza_insumos()}),$("#submit_solicitantes").click(function(){$.ajax({url:"php/cadastrar_solicitantes.php",type:"POST",data:$("#form_solicitantes").serialize(),success:function(a){atualiza_solicitantes(),$("#form_pedidos").each(function(){this.reset()}),$("#myModalSolicitantes").hide()}})}),$("#submit_pedidos").click(function(){$.ajax({url:"php/cadastrar_pedido.php",type:"POST",data:$("#form_pedidos").serialize(),success:function(a){atualiza_pedidos(),$("#form_pedidos").each(function(){this.reset()}),$("#myModalPedidos").hide()}})}),$("#submit_materiais").click(function(){$.ajax({url:"php/cadastrar_materiais.php",type:"POST",data:$("#form_materiais").serialize(),success:function(){atualiza_materiais(),$("#form_materiais").each(function(){this.reset()}),$("#myModalMateriais").hide()}})}),$("#submit_insumos").click(function(){$.ajax({url:"php/cadastrar_insumos.php",type:"POST",data:$("#form_insumos").serialize(),success:function(){atualiza_insumos(),$("#form_insumos").each(function(){this.reset()}),$("#myModalInsumos").hide()}})}),$("#button_modal_pedidos").click(function(){atualiza_select_solicitantes()}),$("#button_modal_materiais").click(function(){atualiza_select_pedidos()}),$("#button_modal_insumos").click(function(){atualiza_select_insumos_pedidos(),atualiza_select_insumos_materiais()}),$("#button_buscar_solicitantes").click(function(){atualiza_dados_de_entrega($("#select_solicitantes").val())})});